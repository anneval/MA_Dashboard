---
title: "Economic Sentiment & GDP Nowcasting Austria"
output: 
  flexdashboard::flex_dashboard:
    theme: journal #  yeti
      #bg: "#101010"
      #fg: "#FDF7F7" 
      #primary: "#ED79F9"
      #base_font: !expr bslib::font_google("Prompt")
      #code_font: !expr bslib::font_google("JetBrains Mono")
    orientation: rows
    #source_code: embed
    vertical_layout: scroll
    social: ["menu"]
    navbar:
      - {icon: "fa-github", 
         title: "Data", 
         href: "https://github.com/anneval/MA", align: right, target: blank}
      - {title: "R package", href: "https://trendecon.github.io/trendecon/", align: right, target: blank}
  
---

```{r setup, include=FALSE}
library(flexdashboard)
library(tsbox)
library(dygraphs)
library(readr)
library(dplyr)
library(tidyr)
library(knitr)
library(ggplot2)
today <- as.character(Sys.Date())
```
# Sentiment Indices
### trendEcon Austria

This dashboard provides daily (economic) sentiment indicators based on Google searches in Austria. The data for the Google searches is scraped from Google Trends using the `trendecon` R-package. The project builds upon the work of [trendEcon](https://www.trendecon.org). Next to the presentation of the daily sentiment indices the goal is to evaluate the main indicator's (perceived economic situation) forecasting performance and accuracy in an GDP nowcasting exercise. To analyze its performance several models (VAR,ARIMA,OLS) are being compared. 

## Row {.tabset .tabset-fade}

### Daily Economic Sentiment Indices
```{r}
keywords <- c("Wirtschaftskrise", "Kurzarbeit", "arbeitslos", "Insolvenz","Inflation") #
Google_AT_daily <- read.csv("https://raw.githubusercontent.com/anneval/MA_data/main/raw/at/trendecon_sa.csv")

economic_sentiment <- Google_AT_daily %>%
  select(time,value) %>%
  ts_xts()

events <- read.csv2("https://raw.githubusercontent.com/anneval/MA_Dashboard/main/docs/Events.csv")
events$date <- as.Date(events$date)

dygraph(economic_sentiment,group = "keywords")%>%
  dyAxis("x", drawGrid = FALSE)%>%
  dySeries("value", label = "Index")%>%
  dyEvent(events$date, events$event, labelLoc = "bottom") %>%
  dyRangeSelector(dateWindow = c("2020-01-01", today))%>%
  dyOptions(useDataTimezone = TRUE)
```

### Info

###### Description

The indicator for the *Perceived Economic Situation* includes search terms that reflect people’s worries about the economy. For instance, people might google “economic crisis” (Wirtschaftskrise) to get information.

###### Keywords

- Wirtschaftskrise
- Kurzarbeit
- arbeitslos
- Insolvenz

## Row {.tabset .tabset-fade}
### Daily Corona Sentiment Indices
```{r}
keywords <- c("Inzidenz", "Coronafälle", "Testcenter", "Lockdown", "Pandemie")#
Corona_AT_daily <- read.csv("https://raw.githubusercontent.com/anneval/MA_data/main/raw/at/corona_sa.csv")

corona_sentiment <- Corona_AT_daily[2192:2970,] %>%
  select(time,value) %>%
  ts_xts()

dygraph(corona_sentiment,group = "keywords")%>%
  dyAxis("x", drawGrid = FALSE)%>%
  dySeries("value", label = "Index")%>%
      dyRangeSelector(dateWindow = c("2020-01-01", today))%>%
      dyEvent(events$date, events$event, labelLoc = "bottom") %>%
      dyOptions(useDataTimezone = TRUE)
```
### Info

###### Description

The indicator for the *Perceived Corona Situation* includes search terms that reflect people’s worries about the current corona situations. For instance, people might google “incidence” (Inzidenz), to get information.

###### Keywords

- Inzidenz
- Coronafälle
- Testcenter
- Lockdown
- Pandemie

## Row {.tabset .tabset-fade}

### Daily Consumption Sentiment Indices
```{r}
keywords <- c("Shopping", "Klamotten", "Autokauf", "Restaurant", "Möbel")
Consumption_AT_daily <- read.csv("https://raw.githubusercontent.com/anneval/MA_data/main/raw/at/corona_sa.csv")

consumption_sentiment <- Corona_AT_daily %>%
  select(time,value) %>%
  ts_xts()

dygraph(consumption_sentiment,group = "keywords")%>%
  dyAxis("x", drawGrid = FALSE)%>%
  dySeries("value", label = "Index")%>%
      dyRangeSelector(dateWindow = c("2020-01-01", today))%>%
    #  dyEvent(events$date, events$event, labelLoc = "bottom") %>%
      dyOptions(useDataTimezone = TRUE)
```

### Info

###### Description

The indicator for the *Perceived Consumption Situation* includes search terms that reflect people’s consumption behavior and thus gives indications for the current economic situations.

###### Keywords

- Shopping
- Klamotten
- Autokauf
- Restaurant
- Möbel

## Row {.tabset .tabset-fade}

### Daily Unemployement Sentiment Indices
```{r}
keywords <- c("Jobagentur", "Arbeitslosengeld", "Jobcenter", "arbeitslos")
Unemployment_AT_daily <- read.csv("https://raw.githubusercontent.com/anneval/MA_data/main/raw/at/corona_sa.csv")

unemployment_sentiment <- Corona_AT_daily %>%
  select(time,value) %>%
  ts_xts()

dygraph(unemployment_sentiment,group = "keywords")%>%
  dyAxis("x", drawGrid = FALSE)%>%
  dySeries("value", label = "Index")%>%
      dyRangeSelector(dateWindow = c("2020-01-01", today))%>%
     # dyEvent(events$date, events$event, labelLoc = "bottom") %>%
      dyOptions(useDataTimezone = TRUE)
```
### Info

###### Description

The indicator for the *Perceived Unemployment Situation* includes search terms that reflect people’s search behavior regarding their current job situation and thus gives indications for the current unemployment situations.

###### Keywords

- Jobagentur
- Arbeitslosengeld
- Jobcenter
- arbeitslos

# Comparison PES

Comparison of PES to GDP growth and and Consumper Confidence Index (do quarterly)

## Row {.tabset .tabset-fade}

Comparison of PES to Wifo and OenB weekly!

# Forecasting

Expanding OLS

VAR

ARIMA






